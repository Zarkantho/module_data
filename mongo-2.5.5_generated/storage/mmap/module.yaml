module_title: Mmap
module_name: mmap
module_description: 'TODO: mmap description'
module_groups:
-   group_title: 'TODO: Name this group'
    group_description: mmap library (only depends on file allocation library)
    group_files:
    - src/mongo/util/mmap.cpp
    - src/mongo/util/mmap.h
    - src/mongo/util/mmap_posix.cpp
    group_generated_data:
    -   file_name: src/mongo/util/mmap.cpp
        file_executables:
        - mongotop
        - mongod
        - perftest
        - mongoperf
        - mongosniff
        - mongodump
        - mongobridge
        - mongostat
        - bsondump
        - mongoimport
        - mongooplog
        - test
        - mongoexport
        - mongofiles
        - mongorestore
        file_interface:
        -   symbol_name: mongo::printMemInfo(char const*)
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::dataSyncFailedHandler()
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::LockMongoFilesShared::mmmutex
            symbol_uses:
            - src/mongo/db/pagefault.cpp
            - src/mongo/dbtests/mmaptests.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/tools/sniffer.cpp
            - src/mongo/db/clientcursor.cpp
            - src/mongo/db/dur.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/client/examples/mongoperf.cpp
            - src/mongo/util/mmap_posix.cpp
            - src/mongo/db/commands/touch.cpp
            - src/mongo/s/d_migrate.cpp
        -   symbol_name: mongo::MongoFile::getAllFiles()
            symbol_uses:
            - src/mongo/db/dur.cpp
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::MongoFile::totalMappedLength()
            symbol_uses:
            - src/mongo/db/clientcursor.cpp
            - src/mongo/db/db.cpp
        -   symbol_name: mongo::MongoFile::setFilename(std::string const&)
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::LockMongoFilesShared::era
            symbol_uses:
            - src/mongo/db/pagefault.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/tools/sniffer.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/client/examples/mongoperf.cpp
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::MongoFile::flushAll(bool)
            symbol_uses:
            - src/mongo/db/dur.cpp
            - src/mongo/db/repl/oplog.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/db/write_concern.cpp
            - src/mongo/db/db.cpp
            - src/mongo/db/repl/rs_rollback.cpp
            - src/mongo/db/pdfile.cpp
            - src/mongo/db/instance.cpp
            - src/mongo/db/commands/fsync.cpp
        -   symbol_name: mongo::MongoFile::notifyPostFlush
            symbol_uses:
            - src/mongo/db/dur_journal.cpp
        -   symbol_name: mongo::MemoryMappedFile::mapWithOptions(char const*, int)
            symbol_uses:
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::minOSPageSizeBytesTest(unsigned long)
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::MongoFile::destroyed()
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::MongoFile::notifyPreFlush
            symbol_uses:
            - src/mongo/db/dur_journal.cpp
        -   symbol_name: mongo::MongoFile::closeAllFiles(std::basic_stringstream<char,
                std::char_traits<char>, std::allocator<char> >&)
            symbol_uses:
            - src/mongo/db/instance.cpp
        -   symbol_name: mongo::MongoFile::created()
            symbol_uses:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::MongoFileFinder::findByPath(std::string const&) const
            symbol_uses:
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/dbtests/mmaptests.cpp
            - src/mongo/db/dur_recover.cpp
        -   symbol_name: mongo::MemoryMappedFile::map(char const*)
            symbol_uses:
            - src/mongo/client/examples/mongoperf.cpp
        file_dependencies:
        -   symbol_name: mongo::ProcessInfo::supported()
            symbol_sources:
            - src/mongo/util/processinfo_darwin.cpp
        -   symbol_name: mongo::MemoryMappedFile::map(char const*, unsigned long long&,
                int)
            symbol_sources:
            - src/mongo/util/mmap_posix.cpp
        -   symbol_name: mongo::ProgressMeter::reset(unsigned long long, int, int)
            symbol_sources:
            - src/mongo/util/progress_meter.cpp
        -   symbol_name: mongo::getThreadName()
            symbol_sources:
            - src/mongo/util/concurrency/thread_name.cpp
        -   symbol_name: mongo::getcurns
            symbol_sources:
            - src/mongo/util/log.cpp
        -   symbol_name: boost::detail::set_tss_data(void const*, boost::shared_ptr<boost::detail::tss_cleanup_function>,
                void*, bool)
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::system::generic_category()
            symbol_sources:
            - src/third_party/boost/libs/system/src/error_code.cpp
        -   symbol_name: mongo::msgasserted(int, char const*)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::LogstreamBuilder(mongo::logger::LogstreamBuilder
                const&)
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: boost::filesystem3::detail::status(boost::filesystem3::path
                const&, boost::system::error_code*)
            symbol_sources:
            - src/third_party/boost/libs/filesystem/v3/src/operations.cpp
        -   symbol_name: mongo::sleepmillis(long long)
            symbol_sources:
            - src/mongo/util/time_support.cpp
        -   symbol_name: mongo::ProgressMeter::hit(int)
            symbol_sources:
            - src/mongo/util/progress_meter.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::makeStream()
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: boost::filesystem3::detail::current_path(boost::system::error_code*)
            symbol_sources:
            - src/third_party/boost/libs/filesystem/v3/src/operations.cpp
        -   symbol_name: mongo::ProcessInfo::~ProcessInfo()
            symbol_sources:
            - src/mongo/util/processinfo_darwin.cpp
        -   symbol_name: mongo::verifyFailed(char const*, char const*, unsigned int)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::fassertFailed(int)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::logger::globalLogManager()
            symbol_sources:
            - src/mongo/logger/logger.cpp
        -   symbol_name: mongo::uasserted(int, std::string const&)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: boost::this_thread::disable_interruption::~disable_interruption()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::detail::get_tss_data(void const*)
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::filesystem3::detail::file_size(boost::filesystem3::path
                const&, boost::system::error_code*)
            symbol_sources:
            - src/third_party/boost/libs/filesystem/v3/src/operations.cpp
        -   symbol_name: mongo::ProcessId::getCurrent()
            symbol_sources:
            - src/mongo/platform/process_id.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::LogstreamBuilder(mongo::logger::LogDomain<mongo::logger::MessageEventEphemeral>*,
                std::string const&, mongo::logger::LogSeverity)
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: boost::system::system_category()
            symbol_sources:
            - src/third_party/boost/libs/system/src/error_code.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::~LogstreamBuilder()
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: boost::this_thread::interruption_point()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::filesystem3::absolute(boost::filesystem3::path const&,
                boost::filesystem3::path const&)
            symbol_sources:
            - src/third_party/boost/libs/filesystem/v3/src/operations.cpp
        -   symbol_name: mongo::ProcessInfo::getVirtualMemorySize()
            symbol_sources:
            - src/mongo/util/processinfo_darwin.cpp
        -   symbol_name: mongo::ProcessInfo::getResidentSize()
            symbol_sources:
            - src/mongo/util/processinfo_darwin.cpp
        -   symbol_name: mongo::ProcessInfo::ProcessInfo(mongo::ProcessId)
            symbol_sources:
            - src/mongo/util/processinfo_darwin.cpp
        -   symbol_name: boost::this_thread::disable_interruption::disable_interruption()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::detail::get_current_thread_data()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
    -   file_name: src/mongo/util/mmap.h
        file_executables:
        - mongotop
        - mongod
        - perftest
        - mongoperf
        - mongosniff
        - mongodump
        - mongobridge
        - mongostat
        - bsondump
        - mongoimport
        - mongos
        - mongooplog
        - test
        - mongoexport
        - mongofiles
        - mongorestore
        file_interface: []
        file_dependencies: []
    -   file_name: src/mongo/util/mmap_posix.cpp
        file_executables:
        - mongotop
        - mongod
        - perftest
        - mongoperf
        - mongosniff
        - mongodump
        - mongobridge
        - mongostat
        - bsondump
        - mongoimport
        - mongooplog
        - test
        - mongoexport
        - mongofiles
        - mongorestore
        file_interface:
        -   symbol_name: mongo::MemoryMappedFile::prepareFlush()
            symbol_uses:
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MemoryMappedFile::close()
            symbol_uses:
            - src/mongo/tools/sniffer.cpp
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/client/examples/mongoperf.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MemoryMappedFile::createPrivateMap()
            symbol_uses:
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: vtable for mongo::MemoryMappedFile
            symbol_uses:
            - src/mongo/tools/sniffer.cpp
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/client/examples/mongoperf.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MAdvise::MAdvise(void*, unsigned int, mongo::MAdvise::Advice)
            symbol_uses:
            - src/mongo/db/structure/record_store.cpp
        -   symbol_name: typeinfo for mongo::MemoryMappedFile
            symbol_uses:
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MAdvise::~MAdvise()
            symbol_uses:
            - src/mongo/db/structure/record_store.cpp
        -   symbol_name: mongo::MemoryMappedFile::map(char const*, unsigned long long&,
                int)
            symbol_uses:
            - src/mongo/tools/sniffer.cpp
            - src/mongo/util/mmap.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MemoryMappedFile::flush(bool)
            symbol_uses:
            - src/mongo/db/storage/data_file.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::MemoryMappedFile::remapPrivateView(void*)
            symbol_uses:
            - src/mongo/db/storage/durable_mapped_file.cpp
        -   symbol_name: mongo::g_minOSPageSizeBytes
            symbol_uses:
            - src/mongo/util/touch_pages.cpp
            - src/mongo/db/prefetch.cpp
            - src/mongo/util/logfile.cpp
        -   symbol_name: mongo::MemoryMappedFile::MemoryMappedFile()
            symbol_uses:
            - src/mongo/tools/sniffer.cpp
            - src/mongo/dbtests/perftests.cpp
            - src/mongo/db/dur_recover.cpp
            - src/mongo/client/examples/mongoperf.cpp
            - src/mongo/db/storage/durable_mapped_file.cpp
        file_dependencies:
        -   symbol_name: mongo::MongoFile::setFilename(std::string const&)
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::FileAllocator::get()
            symbol_sources:
            - src/mongo/util/file_allocator.cpp
        -   symbol_name: mongo::StartupTest::StartupTest()
            symbol_sources:
            - src/mongo/util/startup_test.cpp
        -   symbol_name: mongo::printMemInfo(char const*)
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::msgasserted(int, std::string const&)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::invariantFailed(char const*, char const*, unsigned
                int)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::getThreadName()
            symbol_sources:
            - src/mongo/util/concurrency/thread_name.cpp
        -   symbol_name: typeinfo for mongo::StartupTest
            symbol_sources:
            - src/mongo/util/startup_test.cpp
        -   symbol_name: mongo::getcurns
            symbol_sources:
            - src/mongo/util/log.cpp
        -   symbol_name: boost::detail::set_tss_data(void const*, boost::shared_ptr<boost::detail::tss_cleanup_function>,
                void*, bool)
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: boost::system::generic_category()
            symbol_sources:
            - src/third_party/boost/libs/system/src/error_code.cpp
        -   symbol_name: mongo::msgasserted(int, char const*)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::LogstreamBuilder(mongo::logger::LogstreamBuilder
                const&)
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: mongo::dataSyncFailedHandler()
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::verifyFailed(char const*, char const*, unsigned int)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: mongo::LockMongoFilesShared::era
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::logger::globalLogManager()
            symbol_sources:
            - src/mongo/logger/logger.cpp
        -   symbol_name: mongo::uasserted(int, std::string const&)
            symbol_sources:
            - src/mongo/util/assert_util.cpp
        -   symbol_name: boost::this_thread::disable_interruption::~disable_interruption()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: mongo::FileAllocator::allocateAsap(std::string const&, unsigned
                long long&)
            symbol_sources:
            - src/mongo/util/file_allocator.cpp
        -   symbol_name: boost::detail::get_tss_data(void const*)
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: mongo::MongoFile::created()
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::~LogstreamBuilder()
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: mongo::minOSPageSizeBytesTest(unsigned long)
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::LockMongoFilesShared::mmmutex
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::LogstreamBuilder(mongo::logger::LogDomain<mongo::logger::MessageEventEphemeral>*,
                std::string const&, mongo::logger::LogSeverity)
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: mongo::MongoFile::destroyed()
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: boost::system::system_category()
            symbol_sources:
            - src/third_party/boost/libs/system/src/error_code.cpp
        -   symbol_name: mongo::MongoFile::getAllFiles()
            symbol_sources:
            - src/mongo/util/mmap.cpp
        -   symbol_name: mongo::StartupTest::~StartupTest()
            symbol_sources:
            - src/mongo/util/startup_test.cpp
        -   symbol_name: boost::this_thread::interruption_point()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: mongo::logger::LogstreamBuilder::makeStream()
            symbol_sources:
            - src/mongo/logger/logstream_builder.cpp
        -   symbol_name: boost::this_thread::disable_interruption::disable_interruption()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
        -   symbol_name: mongo::errnoWithDescription(int)
            symbol_sources:
            - src/mongo/util/log.cpp
        -   symbol_name: boost::detail::get_current_thread_data()
            symbol_sources:
            - src/third_party/boost/libs/thread/src/pthread/thread.cpp
